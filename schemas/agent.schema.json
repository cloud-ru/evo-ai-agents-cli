{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "A list of files that will be merged in one file",
  "additionalProperties": false,
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "name": {
        "type": "string",
        "description": "Unique name of agent in project",
        "pattern": "^[a-z][a-z0-9-]{3,48}[a-z0-9]$"
      },
      "description" : {
        "type": "string",
        "description": "Description for your agent",
        "maxLength": 255
      },
      "model": {
        "type": "string",
        "description": "Reference on model by name described in [models] section"
      },
      "prompt" : {
        "type": "string",
        "description": "Reference on prompt by name described in [prompts] section",
        "pattern": "^[a-z][a-z0-9-]{3,48}[a-z0-9]$"
      },
      "source": {
        "anyOf": [
          {
            "simple": {
              "type": "object",
              "maxProperties": 0
            }
          },
          {
            "artifact_registry": {
              "type": "object",
              "description": "",
              "properties": {
                "image":{
                  "type": "string",
                  "description": "",
                  "pattern": "(\\w+).cr.cloud.ru/.*"
                }
              },
              "required": ["image"],
              "minProperties": 1,
              "maxProperties": 1
            }
          },
          {
            "marketplace": {
              "type": "object",
              "description": "",
              "properties": {
                "name" : {
                  "type": "string",
                  "description": "Reference on prompt by name described in [prompts] section",
                  "pattern": "^[a-z][a-z0-9-]{3,48}[a-z0-9]$"
                }
              },
              "required": ["name"],
              "minProperties": 1,
              "maxProperties": 1
            }
          }
        ],
        "description": ""
      },
      "mcp-servers": {
        "type": "array",
        "description": "Reference on model by name described in [models] section",
        "items": {
          "type": "string",
          "description": "Unique name of mcp-server in project",
          "pattern": "^[a-z][a-z0-9-]{3,48}[a-z0-9]$"
        }
      }
    },
    "required": ["name", "source", "options", "llm", "mcp-servers"],
    "uniqueItems": true
  }
}